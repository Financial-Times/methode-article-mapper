financialTimesBrandId: http://api.ft.com/things/dbb0bdae-1f0c-11e4-b0cb-b2227cce2b54

videoSiteConfig:
    - urlPattern: "https?://www.youtube.com/watch\\?v=(?<id>[A-Za-z0-9_-]+)"
      template: "https://www.youtube.com/watch?v=%s"
      embedded: true
      retainedParams: ["t"]
      forceHTTPS: true

    - urlPattern: "https?://www.youtube.com/embed/(?<id>[A-Za-z0-9_-]+)"
      template: "https://www.youtube.com/watch?v=%s"
      embedded: false
      convertedParams:
          - convertFromParameter: "start"
            convertedToParameter: "t"
            conversionTemplate: "%ss"
      forceHTTPS: true

    - urlPattern: "https?://youtu.be/(?<id>[A-Za-z0-9_-]+)"
      template: "https://www.youtube.com/watch?v=%s"
      embedded: false
      retainedParams: ["t"]
      forceHTTPS: true

    - urlPattern: "https?://vimeo.com/(?<id>[0-9]+)"
      template: null
      embedded: false
      forceHTTPS: true

    - urlPattern: "//player.vimeo.com/video/(?<id>[0-9]+)"
      template: "https://www.vimeo.com/%s"
      embedded: true
      forceHTTPS: true

    - urlPattern: "https?://video.ft.com/(?<id>[0-9]+)/"
      template: null
      embedded: false

interactiveGraphicsWhiteList: [ "http://interactive.ftdata.co.uk/(?!(_other/ben/twitter)|(widgets/audio)).*",
    "http://(www.)?ft.com/ig/(?!widgets/widgetBrowser/audio).*",
    "http://ig.ft.com/features.*",
    "http://ft.cartodb.com/.*" ]

server:

  applicationConnectors:
    - type: http
      port: 11070

  adminConnectors:
      - type: http
        port: 11071

  requestLog:

    appenders:

      - type: console

        # The timezone used to format dates. HINT: USE THE DEFAULT, UTC.
        timeZone: UTC

      - type: file

        # The file to which current statements will be logged.
        currentLogFilename: /var/log/apps/methodearticletransformer-dw-access.log

        # When the log file rotates, the archived log will be renamed to this and gzipped. The
        # %d is replaced with the previous day (yyyy-MM-dd). Custom rolling windows can be created
        # by passing a SimpleDateFormat-compatible format as an argument: "%d{yyyy-MM-dd-hh}".
        archivedLogFilenamePattern: /var/log/apps/methodearticletransformer-dw-access-%d.log.gz

        # The number of archived files to keep.
        archivedFileCount: 6

        # The timezone used to format dates. HINT: USE THE DEFAULT, UTC.
        timeZone: UTC

logging:

  level: INFO

  loggers:
    io.dropwizard: DEBUG

  appenders:

    - type: console

    - type: file
      # Do not write log statements below this threshold to the file.
      threshold: ALL

      # The file to which current statements will be logged.
      currentLogFilename: /var/log/apps/methodearticletransformer-dw-app.log

      # When the log file rotates, the archived log will be renamed to this and gzipped. The
      # %d is replaced with the previous day (yyyy-MM-dd). Custom rolling windows can be created
      # by passing a SimpleDateFormat-compatible format as an argument: "%d{yyyy-MM-dd-hh}".
      archivedLogFilenamePattern: /var/log/apps/methodearticletransformer-dw-app-%d.log.gz

      # The number of archived files to keep.
      archivedFileCount: 5

      # The timezone used to format dates. HINT: USE THE DEFAULT, UTC.
      timeZone: UTC
      
documentStoreApi:
    endpointConfiguration:
        shortName: "documentStoreApi"
        path: content/
        jerseyClient:
            timeout: 2000ms
        primaryNodes: ["localhost:14180:14181"]
        secondaryNodes: null
    connectionConfig:
        numberOfConnectionAttempts: 3
        timeoutMultiplier: 1000

sourceApi:
    endpointConfiguration:
        shortName: "nativeStore"
        jerseyClient:
            timeout: 5000ms
        primaryNodes: ["localhost:8080:8080", "localhost:8080:8080"]
        secondaryNodes: null
    assetTypeRequestConfiguration:
        numberOfAssetIdsPerAssetTypeRequest: 3
        numberOfParallelAssetTypeRequests: 4
    connectionConfig:
        numberOfConnectionAttempts: 3
        timeoutMultiplier: 1000

